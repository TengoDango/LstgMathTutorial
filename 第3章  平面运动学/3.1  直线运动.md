# 3.1 直线运动

这一章，我们将研究点在平面上的运动，不过这一节我们先从相对简单的直线运动开始，引入运动学的一些基本概念。

直线运动是点在某条直线上的运动。我们在直线上建立坐标轴，点的位置由坐标轴上的一个数即可确定。我们用变量 $x$ 表示点所在的位置，用变量 $t$ 表示点所处的时间点。

我们对运动的研究基于这样一个假设：一个点在一个时间只能有一个位置。我们把点在 $t$ 时间的位置记作 $x(t)$，用关于 $t$ 的数学表达式来表示 $x(t)$，形如 $x(t)=3t-2$，称为 **运动的表达式**。把不同的时间代入 $x(t)$，就可以得到点的运动情况。比如在 $t=3$ 时间，点的位置 $x=x(3)=3\cdot3-2=7$。

对两个时间点 $t_1<t_2$，点的对应位置变化量 $\Delta x=x(t_2)-x(t_1)$ 称为点在 $t_1<t<t_2$ 时间段的 **位移**。

## 3.1.1 速度

相信在阅读这篇教程之前，读者对速度已经有了一定了解。速度是衡量运动快慢的量。对于匀速直线运动，任取两个不同时间点 $t_1<t_2$，点经过的时间 $\Delta t=t_2-t_1$，点的位移 $\Delta x=x(t_2)-x(t_1)$，我们知道 $\dfrac{\Delta x}{\Delta t}$ 为一个定值，这个定值就是点的速度，记作 $v$。

对于一般的运动，$\dfrac{\Delta x}{\Delta t}$ 不一定为定值，这时速度是怎样定义的呢？

> 设有一点作直线运动 $x(t)$，任取两个时间点 $t_1<t_2$，设 $\Delta t=t_2-t_1,\ \Delta x=x(t_2)-x(t_1)$。将 $\dfrac{\Delta x}{\Delta t}$ 称为点在 $t_1<t<t_2$ 时间段的平均速度。
>
> 把 $t_1,t_2$ 向某一时间 $t_0$ 无限趋近 ( 但不等于 $t_0$ )。在靠近过程中，$\Delta t$ 无限趋近于 $0$。若 $t_1<t<t_2$ 时间段的平均速度也无限趋近于某个定值，就将该定值称为点在 $t_0$ 时间的瞬时速度，简称点在 $t_0$ 时间的速度，记作 $v(t_0)$。

从定义上看，某一时间点的速度不一定存在，但我们不研究这类复杂情况。在实际应用中，通常最多只有有限个时间点的速度不存在，我们通过将运动分割为若干时间段来避开速度不存在的时间点。

## 3.1.2 加速度

加速度是衡量速度随时间变化快慢的量。其定义与速度的定义基本一致：

> 设有一点作直线运动 $x(t)$，任取两个时间点 $t_1<t_2$，设 $\Delta t=t_2-t_1,\ \Delta v=v(t_2)-v(t_1)$。
>
> 把 $t_1,t_2$ 向某一时间 $t_0$ 无限趋近 ( 但不等于 $t_0$ )。在靠近过程中，$\Delta t$ 无限趋近于 $0$。若 $\dfrac{\Delta v}{\Delta t}$ 也无限趋近于某个定值，就将该定值称为点在 $t_0$ 时间的加速度，记作 $a(t_0)$。

对于我们所研究的运动，速度和加速度最多只在有限多个时间不存在。将运动分段后，各段运动在所属任意时间的速度和加速度都存在 (且一般是连续平滑的)。

## 3.1.3 连续时间系统 / 离散时间系统

连续时间系统和离散时间系统是对实际运动建立的不同抽象模型。在 **连续时间系统** 中，时间是无限可分的、连续的。时间间隔 $\Delta t$ 可以无限趋近于 $0$，这是我们定义瞬时速度和加速度的基础。

而在 **离散时间系统** 中，时间并非无限可分，它只能取特定的某些值，通常规定时间只能取整数。点在 $t$ 时间的位置仍然记作 $x(t)$，或仿照编程中数组元素的写法记作 $x[t]$。由于时间不能连续取值，"瞬时" 的概念消失，当然也就无法定义瞬时速度和加速度，取而代之的是由差值定义：
$$ v(t)=x(t+1)-x(t) \\ a(t)=v(t+1)-v(t) $$

或
$$ v(t)=x(t)-x(t-1) \\ a(t)=v(t)-v(t-1) $$

在 `LuaSTG` 中，状态更新和渲染是逐帧 (约 $1/60$ 秒) 进行的，非整数帧时间的状态没有意义，所以离散时间系统更符合 `LuaSTG` 的实际情况。然而为了方便研究，我们只考虑连续时间系统下的运动。

离散和连续时间系统对同一问题可能得到不同的结果。即使最小时间间隔足够小也不能保证二者结果相近 (比如混沌系统)。至于二者的误差如何分析，这是另一个话题了，本教程不做探究。